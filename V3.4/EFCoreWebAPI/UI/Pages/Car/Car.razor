@page "/cars/{id}"
@inject UI.Services.CarService carService
@inject UI.Services.CarTypeService carTypeService
@if (car == null)
{
    <p>Null</p>
}
else
{
    <img src="@imagePath" style="border-style: outset; border-color: gray; border-width: 5px; margin-right: 1%; margin-bottom: 1%; width: 40%; float: left;">
    <h2><b>Марка машины:</b> @car.brand</h2>
    <p><b>Год выпуска:</b> @car.year</p>
    <p><b>Цена:</b> $@car.price</p>
    <p><b>Цена прокат:</b> @car.pricePerHour$</p>
    <p><b>Тип машины:</b> @carType</p>
    <p>
        <b>Описание:</b> @car.description
    </p>
}



@code {
    CarViewModel car;
    string carType { get; set; }
    string imagePath;
    [Parameter]
    public string Id { get; set; }

    protected override async Task OnInitializedAsync()
    {
        car = await carService.GetCarsByIdAsync(Int32.Parse(Id));
        if (string.IsNullOrWhiteSpace(car.imagePath))
            imagePath = "/car_images/unknown.jpg";
        else
            imagePath = car.imagePath;
        carType = await carTypeService.GetCarTypeByIdAsync(car.carTypeId);
    }
}
